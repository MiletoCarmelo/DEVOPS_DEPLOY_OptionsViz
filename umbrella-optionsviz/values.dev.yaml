technicalSecret:
  type: "sealedSecret"
  githubSecret: "AgAo664KjAhnYO3Dsyj76op66EYbm2W5chCkBKzU25/w6q7t5FQh00s+kyIDMo4u83SUEu5kINzv6HZ02NbExaS6JsR4/VIZ3r3QMya+TZo42Egmd7iShiG85eBtdcxLP0sBhiBGux4NlXeC5DkSP0p7nMh2ma1oldFeWEhZmZn347vuybo+v9LeRjBOkVIOujbyLnUwGyG02LEPEtXzxRLyZicVbdKDFAAN9GA+l7UQqxpRDYCuTBuCTFo1BTAuJPHhkYzLwNX70MppZgA5jJNjouVrHmMmsw4uEH5c5FOVOXVHJcQNzELZ4CET8EHuFpDdvc+E/15ZdBOSVDSF1sHsO40pMdQ9WboK2rMjBH9Au1l+nBV69TdShecnkZtHdGzRXP7SYheaXXw69rna8hRcYd09zvHq3nTiaaJ5xQ384J0Z1BZlnxoVa1oFVN4Wk/sL3xAm7AIx6LhiL8Lrlj0D+REmu+IC9ysh8ax2gb/bIwCoTlrPB0y5Y342vMKbBXdWDrXaUF3rFfmzMzUBv1pnBrpmV5Yd5XrM89q+sLHLlpwEbINAh5oHl0wqdzwXdq6tXDvd14+07IOdhamADEgyaYcs3c/SZfxVfUyPvZ0wYKG8oKSUYzCk4rlwV73+BZC1Ex0tRSaGBL5wmrcAGO63sbLVPEbEBRKCRiwTyrVkMGH/Kf1nVOk6lVo9NNvKxQ7UQqjUkI5cCRNKaRqVK/kDaMIsXqWkHEQcFKiKHhXFazC8Al9vEpkm+5xB+V3W56wSdlrbq2ixGE+heAnvfLVQ/5iK9T6jzG5ZcFqBRAluk8uObdyG08/VGfKgJMdHSBqDcmD2wRxkfMfiC50E9prBsVj4XA33L3K+3EEclJ5W77J7JtteaDpQuCqtbxXswhHdZo8gTk7i9t1l0l+++wAwRZWHqVU5Zun6BIeg3+CavOW0sWBMbIOyMSelshfLLhGL9jQQ3XYoUZkimhFRTJBYjmsSFMoGtynD/xMLeXt4MV2DVljC"

optionsviz:  # Ajoutez ce niveau pour correspondre au nom du subchart
  module: optionviz
  name: optionviz
  environment: dev
  replicas: 1
  containers:
    image: ghcr.io/hugogobbi/optionsviz
    name: optionsviz
    tags: latest
    imagePullSecrets:
      - name: technical-secret
    ports:
      containerPort: 80 # Changed from 'http' to '80' for consistency
    resources:
      requests:
        memory: "1Gi"        # Augmenté de 512Mi à 1Gi
        cpu: "500m"          # Augmenté de 200m à 500m
      limits:
        memory: "2Gi"        # Augmenté de 1024Mi à 2Gi
        cpu: "1000m"         # Augmenté de 200m à 1000m (équivalent à 1 CPU)
    sqlite:
      enabled: false
    redis:
      enabled: false
  service:
    port: 80
    targetPort: 80
  ingress:
    host: mm.ch  
    enabled: true 
    metadata:
      annotations:
        kubernetes.io/ingress.class: nginx  # Added this common annotation
        nginx.ingress.kubernetes.io/rewrite-target: /$1  # If you want path rewriting
    spec:
      path: /optionviz
      pathType: Prefix
  configmap:
    enabled: false